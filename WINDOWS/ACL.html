<!--
title: ACL
description: 
published: true
date: 2023-09-18T12:37:40.964Z
tags: droit, acl, ps, windows, autorisations
editor: ckeditor
dateCreated: 2023-09-18T12:37:39.563Z
-->

<p>APPLIQUER LE BON DROITS A UN ELEMENT QUI NE LES A PAS A PARTIR D UN AUTRE ELEMENT :</p>
<p>get-acl un-fichier-qui-est-bon | set-acl un-fichier-pas-bon</p>
<p>get acl <a href="file://strphyv01/c$/clusterstorage/volume4/vdcszdevtpm01/DISQUE%20VIERGE%20-%20PETIT.VHDX">\\strphyv01\c$\clusterstorage\volume4\vdcszdevtpm01\DISQUE VIERGE - PETIT.VHDX</a> | set-acl <a href="file://strphyv01/c$/ClusterStorage/Volume4/vdcszab01/VDCSZAB01_disque_BDD.vhdx">\\strphyv01\c$\ClusterStorage\Volume4\vdcszab01\VDCSZAB01_disque_BDD.vhdx</a></p>
<p>get acl <a href="file://strphyv01/c$/clusterstorage/volume4/vdcszdevtpm01/DISQUE%20VIERGE%20-%20PETIT.VHDX">\\strphyv01\c$\clusterstorage\volume4\vdcszdevtpm01\DISQUE VIERGE - PETIT.VHDX</a> | set-acl <a href="file://strphyv01/c$/ClusterStorage/Volume4/VDCSZAB01/VDCSZAB01_disque_OS.vhdx">\\strphyv01\c$\ClusterStorage\Volume4\VDCSZAB01\VDCSZAB01_disque_OS.vhdx</a></p>
<p>&nbsp;</p>
<p>Obtenir les infos ACL d'un dossier : remplacer c:\windows par le chemin du dossier souhait√© et | fl pour l'avoir complet en "format list"</p>
<p>Get-Acl C:\Windows | fl</p>
<p>&nbsp;</p>
<p>Get-Acl D:\ | fl | Out-File C:\Users\A09\Desktop\WinMergeFile\vidfmdt01.txt</p>
<p>&nbsp;</p>
<p>C:\Users\A09\Desktop\WinMergeFile</p>
<p>&nbsp;</p>
<p>Export-Csv c:\users\A09_admin\desktop\sbrehyv01.csv -NoTypeInformation</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>En remote:</p>
<p>Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-Acl D:\Hyper-V\VIDFADS01\Snapshots\ | fl} | Out-File C:\Users\A09\Desktop\WinMergeFile\vidfmdt01.txt</p>
<p>&nbsp;</p>
<p>C:\Windows\System32&gt; Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-Acl D:\Hyper-V\VIDFADS01\Snapshots\ | fl} | Out-File C:\Users\A09\Desktop\WinMergeFile\vidfads01.txt</p>
<p>C:\Windows\System32&gt; Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-Acl D:\Hyper-V\VIDFMDT01\Snapshots\ | fl} | Out-File C:\Users\A09\Desktop\WinMergeFile\vidfmdt01.txt</p>
<p>C:\Windows\System32&gt; Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-Acl D:\Hyper-V\VIDFMDT01\ | fl} | Out-File C:\Users\A09\Desktop\WinMergeFile\vidfmdt01parent.txt</p>
<p>C:\Windows\System32&gt; Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-Acl D:\Hyper-V\VIDFADS01\ | fl} | Out-File C:\Users\A09\Desktop\WinMergeFile\vidfads01parent.txt</p>
<p>&nbsp;</p>
<p>Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-acl D:\Hyper-V\VIDFADS02\VIDFADS02_disque_1.vhdx | fl}</p>
<p>Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-acl D:\Hyper-V\VIDFADS02\WS2012R2_Standard_fr-FR_MSDN.vhdx | fl}</p>
<p>Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-acl D:\Hyper-V\VIDFMDT01\ws2019_standard_fr-fr.vhdx | fl}</p>
<p>Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-acl D:\Hyper-V\VIDFADS01\VIDFADS01_disque_1.vhdx | fl}</p>
<p>Invoke-Command -ComputerName SIDFSAV01 -scriptblock {Get-acl D:\Hyper-V\VIDFADS01\VIDFADS01_disque_2.vhdx | fl}</p>
