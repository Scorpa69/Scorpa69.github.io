<!--
title: NMAP
description: 
published: true
date: 2023-09-18T12:35:14.737Z
tags: scan, ip
editor: ckeditor
dateCreated: 2023-09-18T12:35:13.443Z
-->

<h2>Scan port sur une machine</h2>
<pre><code class="language-plaintext">nmap -sT -sU nommachine</code></pre>
<p>&nbsp;</p>
<h2>Scan de vulnérabilité :</h2>
<pre><code class="language-plaintext">nmap -sV --script vuln wiki.bmg.ovh</code></pre>
<p>nmap -sV --script vuln vpn.scp69.ovh</p>
<p>nmap -sV --script vuln hoa.bmg.ovh</p>
<p>&nbsp;</p>
<h2>Scan plage IP avec résolution du nom</h2>
<pre><code class="language-plaintext">nmap -sn -R xxx.xxx.xxx.xxx/xx</code></pre>
<p>&nbsp;</p>
<h2>Scan vuln sans ping</h2>
<pre><code class="language-plaintext">nmap -Pn --script vuln vpn.scp69.ovh</code></pre>
<p>&nbsp;</p>
<h2>Scan vuln des port 80 et 443 sur l'adresse indiqué</h2>
<pre><code class="language-plaintext">nmap -p80,443 --script vuln ppu-prod.azurewebsites.net</code></pre>
<p>&nbsp;</p>
<h2>Résumé option :</h2>
<p>SPÉCIFICATIONS&nbsp;DES&nbsp;CIBLES:<br>Les&nbsp;cibles&nbsp;peuvent&nbsp;être&nbsp;spécifiées&nbsp;par&nbsp;des&nbsp;noms&nbsp;d'hôtes,&nbsp;des&nbsp;adresses&nbsp;IP,&nbsp;des&nbsp;adresses&nbsp;de&nbsp;réseaux,&nbsp;etc.<br>Exemple:&nbsp;scanme.nmap.org,&nbsp;microsoft.com/24,&nbsp;192.168.0.1;&nbsp;10.0-255.0-255.1-254<br>-iL&nbsp;&lt;inputfilename&gt;:&nbsp;Lit&nbsp;la&nbsp;liste&nbsp;des&nbsp;hôtes/réseaux&nbsp;cibles&nbsp;à&nbsp;partir&nbsp;du&nbsp;fichier<br>-iR&nbsp;&lt;num&nbsp;hosts&gt;:&nbsp;Choisit&nbsp;les&nbsp;cibles&nbsp;au&nbsp;hasard<br>--exclude&nbsp;&lt;host1[,host2][,host3],...&gt;:&nbsp;Exclut&nbsp;des&nbsp;hôtes/réseaux&nbsp;du&nbsp;scan&nbsp;<br>--excludefile&nbsp;&lt;exclude_file&gt;:&nbsp;Exclut&nbsp;des&nbsp;hôtes/réseaux&nbsp;des&nbsp;cibles&nbsp;à&nbsp;partir&nbsp;du&nbsp;fichier<br><br>DÉCOUVERTE&nbsp;DES&nbsp;HÔTES:<br>-sL:&nbsp;List&nbsp;Scan&nbsp;-&nbsp;Liste&nbsp;simplement&nbsp;les&nbsp;cibles&nbsp;à&nbsp;scanner<br>-sP:&nbsp;Ping&nbsp;Scan&nbsp;-&nbsp;Ne&nbsp;fait&nbsp;que&nbsp;déterminer&nbsp;si&nbsp;les&nbsp;hôtes&nbsp;sont&nbsp;en&nbsp;ligne&nbsp;-P0:&nbsp;Considère&nbsp;que&nbsp;tous&nbsp;les&nbsp;hôtes&nbsp;sont&nbsp;en&nbsp;ligne&nbsp;--&nbsp;évite&nbsp;la&nbsp;découverte&nbsp;des&nbsp;hôtes<br>-PN:&nbsp;Considérer&nbsp;tous&nbsp;les&nbsp;hôtes&nbsp;comme&nbsp;étant&nbsp;connectés&nbsp;--&nbsp;saute&nbsp;l'étape&nbsp;de&nbsp;découverte&nbsp;des&nbsp;hôtes<br>-PS/PA/PU&nbsp;[portlist]:&nbsp;Découverte&nbsp;TCP&nbsp;SYN/ACK&nbsp;ou&nbsp;UDP&nbsp;des&nbsp;ports&nbsp;en&nbsp;paramètre<br>-PE/PP/PM:&nbsp;Découverte&nbsp;de&nbsp;type&nbsp;requête&nbsp;ICMP&nbsp;echo,&nbsp;timestamp&nbsp;ou&nbsp;netmask&nbsp;<br>-PO&nbsp;[num&nbsp;de&nbsp;protocole]:&nbsp;Ping&nbsp;IP&nbsp;(par&nbsp;type)<br>-n/-R:&nbsp;Ne&nbsp;jamais&nbsp;résoudre&nbsp;les&nbsp;noms&nbsp;DNS/Toujours&nbsp;résoudre&nbsp;[résout&nbsp;les&nbsp;cibles&nbsp;actives&nbsp;par&nbsp;défaut]<br>--dns-servers&nbsp;&lt;serv1[,serv2],...&gt;:&nbsp;Spécifier&nbsp;des&nbsp;serveurs&nbsp;DNS&nbsp;particuliers<br><br>TECHNIQUES&nbsp;DE&nbsp;SCAN:<br>-sS/sT/sA/sW/sM:&nbsp;Scans&nbsp;TCP&nbsp;SYN/Connect()/ACK/Window/Maimon&nbsp;<br>-sN/sF/sX:&nbsp;Scans&nbsp;TCP&nbsp;Null,&nbsp;FIN&nbsp;et&nbsp;Xmas<br>-sU:&nbsp;Scan&nbsp;UDP<br>--scanflags&nbsp;&lt;flags&gt;:&nbsp;Personnalise&nbsp;les&nbsp;flags&nbsp;des&nbsp;scans&nbsp;TCP<br>-sI&nbsp;&lt;zombie&nbsp;host[:probeport]&gt;:&nbsp;Idlescan&nbsp;(scan&nbsp;passif)<br>-sO:&nbsp;Scan&nbsp;des&nbsp;protocoles&nbsp;supportés&nbsp;par&nbsp;la&nbsp;couche&nbsp;IP<br>-b&nbsp;&lt;ftp&nbsp;relay&nbsp;host&gt;:&nbsp;Scan&nbsp;par&nbsp;rebond&nbsp;FTP<br>--traceroute:&nbsp;Détermine&nbsp;une&nbsp;route&nbsp;vers&nbsp;chaque&nbsp;hôte<br>--reason:&nbsp;Donne&nbsp;la&nbsp;raison&nbsp;pour&nbsp;laquelle&nbsp;tel&nbsp;port&nbsp;apparait&nbsp;à&nbsp;tel&nbsp;état<br><br>SPÉCIFICATIONS&nbsp;DES&nbsp;PORTS&nbsp;ET&nbsp;ORDRE&nbsp;DE&nbsp;SCAN:<br>-p&nbsp;&lt;plage&nbsp;de&nbsp;ports&gt;:&nbsp;Ne&nbsp;scanne&nbsp;que&nbsp;les&nbsp;ports&nbsp;spécifiés<br>Exemple:&nbsp;-p22;&nbsp;-p1-65535;&nbsp;-pU:53,111,137,T:21-25,80,139,8080<br>-F:&nbsp;Fast&nbsp;-&nbsp;Ne&nbsp;scanne&nbsp;que&nbsp;les&nbsp;ports&nbsp;listés&nbsp;dans&nbsp;le&nbsp;fichier&nbsp;nmap-services<br>-r:&nbsp;Scan&nbsp;séquentiel&nbsp;des&nbsp;ports,&nbsp;ne&nbsp;mélange&nbsp;pas&nbsp;leur&nbsp;ordre<br>--top-ports&nbsp;&lt;nombre&gt;:&nbsp;Scan&nbsp;&lt;nombre&gt;&nbsp;de&nbsp;ports&nbsp;parmis&nbsp;les&nbsp;plus&nbsp;courants<br>--port-ratio&nbsp;&lt;ratio&gt;:&nbsp;Scan&nbsp;&lt;ratio&gt;&nbsp;pourcent&nbsp;des&nbsp;ports&nbsp;les&nbsp;plus&nbsp;courants<br>&nbsp;<br>DÉTECTION&nbsp;DE&nbsp;SERVICE/VERSION:<br>-sV:&nbsp;Teste&nbsp;les&nbsp;ports&nbsp;ouverts&nbsp;pour&nbsp;déterminer&nbsp;le&nbsp;service&nbsp;en&nbsp;écoute&nbsp;et&nbsp;sa&nbsp;version<br>--version-light:&nbsp;Limite&nbsp;les&nbsp;tests&nbsp;aux&nbsp;plus&nbsp;probables&nbsp;pour&nbsp;une&nbsp;identification&nbsp;plus&nbsp;rapide<br>--version-intensity&nbsp;&lt;niveau&gt;:&nbsp;De&nbsp;0&nbsp;(léger)&nbsp;à&nbsp;9&nbsp;(tout&nbsp;essayer)<br>--version-all:&nbsp;Essaie&nbsp;un&nbsp;à&nbsp;un&nbsp;tous&nbsp;les&nbsp;tests&nbsp;possibles&nbsp;pour&nbsp;la&nbsp;détection&nbsp;des&nbsp;versions<br>--version-trace:&nbsp;Affiche&nbsp;des&nbsp;informations&nbsp;détaillées&nbsp;du&nbsp;scan&nbsp;de&nbsp;versions&nbsp;(pour&nbsp;débogage)<br><br>SCRIPT&nbsp;SCAN:<br>-sC:&nbsp;équivalent&nbsp;de&nbsp;--script=safe,intrusive<br>--script=&lt;lua&nbsp;scripts&gt;:&nbsp;&lt;lua&nbsp;scripts&gt;&nbsp;est&nbsp;une&nbsp;liste&nbsp;de&nbsp;répertoires&nbsp;ou&nbsp;de&nbsp;scripts&nbsp;séparés&nbsp;par&nbsp;des&nbsp;virgules<br>--script-args=&lt;n1=v1,[n2=v2,...]&gt;:&nbsp;passer&nbsp;des&nbsp;arguments&nbsp;aux&nbsp;scripts<br>--script-trace:&nbsp;Montre&nbsp;toutes&nbsp;les&nbsp;données&nbsp;envoyées&nbsp;ou&nbsp;recues<br>--script-updatedb:&nbsp;Met&nbsp;à&nbsp;jour&nbsp;la&nbsp;base&nbsp;de&nbsp;données&nbsp;des&nbsp;scripts.&nbsp;Seulement&nbsp;fait&nbsp;si&nbsp;-sC&nbsp;ou&nbsp;--script&nbsp;a&nbsp;été&nbsp;aussi&nbsp;donné.<br><br>DÉTECTION&nbsp;DE&nbsp;SYSTÈME&nbsp;D'EXPLOITATION:<br>-O:&nbsp;Active&nbsp;la&nbsp;détection&nbsp;d'OS<br>--osscan-limit:&nbsp;Limite&nbsp;la&nbsp;détection&nbsp;aux&nbsp;cibles&nbsp;prometteuses<br>--osscan-guess:&nbsp;Devine&nbsp;l'OS&nbsp;de&nbsp;façon&nbsp;plus&nbsp;agressive<br><br>TEMPORISATION&nbsp;ET&nbsp;PERFORMANCE:<br>Les&nbsp;options&nbsp;qui&nbsp;prennent&nbsp;un&nbsp;argument&nbsp;de&nbsp;temps&nbsp;sont&nbsp;en&nbsp;milisecondes&nbsp;a&nbsp;moins&nbsp;que&nbsp;vous&nbsp;ne&nbsp;spécifiiez&nbsp;'s'<br>(secondes),&nbsp;'m'&nbsp;(minutes),&nbsp;ou&nbsp;'h'&nbsp;(heures)&nbsp;à&nbsp;la&nbsp;valeur&nbsp;(e.g.&nbsp;30m).<br><br>-T[0-5]:&nbsp;Choisit&nbsp;une&nbsp;politique&nbsp;de&nbsp;temporisation&nbsp;(plus&nbsp;élevée,&nbsp;plus&nbsp;rapide)<br>--min-hostgroup/max-hostgroup&nbsp;&lt;nombre&gt;:&nbsp;Tailles&nbsp;des&nbsp;groupes&nbsp;d'hôtes&nbsp;à&nbsp;scanner&nbsp;en&nbsp;parallèle<br>--min-parallelism/max-parallelism&nbsp;&lt;nombre&gt;:&nbsp;Parallélisation&nbsp;des&nbsp;paquets&nbsp;de&nbsp;tests&nbsp;(probes)<br>--min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout&nbsp;&lt;msec&gt;:&nbsp;Spécifie&nbsp;le&nbsp;temps&nbsp;d'aller-retour&nbsp;des&nbsp;paquets&nbsp;de&nbsp;tests<br>--min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout&nbsp;&lt;msec&gt;:&nbsp;Spécifie&nbsp;le&nbsp;temps&nbsp;d'aller-retour&nbsp;des&nbsp;paquets&nbsp;de&nbsp;tests<br>--min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout&nbsp;&lt;time&gt;:&nbsp;Précise<br>le&nbsp;round&nbsp;trip&nbsp;time&nbsp;des&nbsp;paquets&nbsp;de&nbsp;tests.<br>--max-retries&nbsp;&lt;tries&gt;:&nbsp;Nombre&nbsp;de&nbsp;retransmissions&nbsp;des&nbsp;paquets&nbsp;de&nbsp;tests&nbsp;des&nbsp;scans&nbsp;de&nbsp;ports.<br>--host-timeout&nbsp;&lt;msec&gt;:&nbsp;Délai&nbsp;d'expiration&nbsp;du&nbsp;scan&nbsp;d'un&nbsp;hôte&nbsp;--scan-delay/--max-scan-delay&nbsp;&lt;msec&gt;:&nbsp;Ajuste&nbsp;le&nbsp;délai&nbsp;de&nbsp;retransmission&nbsp;entre&nbsp;deux&nbsp;paquets&nbsp;de&nbsp;tests<br>--scan-delay/--max-scan-delay&nbsp;&lt;time&gt;:&nbsp;Ajuste&nbsp;le&nbsp;delais&nbsp;entre&nbsp;les&nbsp;paquets&nbsp;de&nbsp;tests.<br><br>ÉVASION&nbsp;PARE-FEU/IDS&nbsp;ET&nbsp;USURPATION&nbsp;D'IDENTITÉ<br>-f;&nbsp;--mtu&nbsp;&lt;val&gt;:&nbsp;Fragmente&nbsp;les&nbsp;paquets&nbsp;(en&nbsp;spécifiant&nbsp;éventuellement&nbsp;la&nbsp;MTU)<br>-D&nbsp;&lt;decoy1,decoy2[,ME],...&gt;:&nbsp;Obscurci&nbsp;le&nbsp;scan&nbsp;avec&nbsp;des&nbsp;leurres<br>-S&nbsp;&lt;IP_Address&gt;:&nbsp;Usurpe&nbsp;l'adresse&nbsp;source<br>-e&nbsp;&lt;iface&gt;:&nbsp;Utilise&nbsp;l'interface&nbsp;réseau&nbsp;spécifiée<br>-g/--source-port&nbsp;&lt;portnum&gt;:&nbsp;Utilise&nbsp;le&nbsp;numéro&nbsp;de&nbsp;port&nbsp;comme&nbsp;source<br>--data-length&nbsp;&lt;num&gt;:&nbsp;Ajoute&nbsp;des&nbsp;données&nbsp;au&nbsp;hasard&nbsp;aux&nbsp;paquets&nbsp;émis<br>--ip-options&nbsp;&lt;options&gt;:&nbsp;Envoi&nbsp;des&nbsp;paquets&nbsp;avec&nbsp;les&nbsp;options&nbsp;IP&nbsp;spécifiées.&nbsp;<br>--ttl&nbsp;&lt;val&gt;:&nbsp;Spécifie&nbsp;le&nbsp;champ&nbsp;time-to-live&nbsp;IP<br>--spoof-mac&nbsp;&lt;adresse&nbsp;MAC,&nbsp;préfixe&nbsp;ou&nbsp;nom&nbsp;du&nbsp;fabriquant&gt;:&nbsp;Usurpe&nbsp;une&nbsp;adresse&nbsp;MAC<br>--badsum:&nbsp;Envoi&nbsp;des&nbsp;paquets&nbsp;TCP/UDP&nbsp;avec&nbsp;une&nbsp;somme&nbsp;de&nbsp;controle&nbsp;erronnée.<br><br>SORTIE:<br>-oN/-oX/-oS/-oG&nbsp;&lt;file&gt;:&nbsp;Sortie&nbsp;dans&nbsp;le&nbsp;fichier&nbsp;en&nbsp;paramètre&nbsp;des&nbsp;résultats&nbsp;du&nbsp;scan&nbsp;au&nbsp;format&nbsp;normal,&nbsp;XML,&nbsp;s|&lt;rIpt&nbsp;kIddi3&nbsp;et&nbsp;Grepable,&nbsp;respectivement<br>-oA&nbsp;&lt;basename&gt;:&nbsp;Sortie&nbsp;dans&nbsp;les&nbsp;trois&nbsp;formats&nbsp;majeurs&nbsp;en&nbsp;même&nbsp;temps<br>-v:&nbsp;Rend&nbsp;Nmap&nbsp;plus&nbsp;verbeux&nbsp;(-vv&nbsp;pour&nbsp;plus&nbsp;d'effet)<br>-d[level]:&nbsp;Sélectionne&nbsp;ou&nbsp;augmente&nbsp;le&nbsp;niveau&nbsp;de&nbsp;débogage&nbsp;(significatif&nbsp;jusqu'à&nbsp;9)<br>--packet-trace:&nbsp;Affiche&nbsp;tous&nbsp;les&nbsp;paquets&nbsp;émis&nbsp;et&nbsp;reçus<br>--iflist:&nbsp;Affiche&nbsp;les&nbsp;interfaces&nbsp;et&nbsp;les&nbsp;routes&nbsp;de&nbsp;l'hôte&nbsp;(pour&nbsp;débogage)<br>--log-errors:&nbsp;Journalise&nbsp;les&nbsp;erreurs/alertes&nbsp;dans&nbsp;un&nbsp;fichier&nbsp;au&nbsp;format&nbsp;normal<br>--append-output:&nbsp;Ajoute&nbsp;la&nbsp;sortie&nbsp;au&nbsp;fichier&nbsp;plutôt&nbsp;que&nbsp;de&nbsp;l'écraser&nbsp;<br>--resume&nbsp;&lt;filename&gt;:&nbsp;Reprend&nbsp;un&nbsp;scan&nbsp;interrompu<br>--stylesheet&nbsp;&lt;path/URL&gt;:&nbsp;Feuille&nbsp;de&nbsp;styles&nbsp;XSL&nbsp;pour&nbsp;transformer&nbsp;la&nbsp;sortie&nbsp;XML&nbsp;en&nbsp;HTML<br>--webxml:&nbsp;Feuille&nbsp;de&nbsp;styles&nbsp;de&nbsp;références&nbsp;de&nbsp;Insecure.Org&nbsp;pour&nbsp;un&nbsp;XML&nbsp;plus&nbsp;portable<br>--no-stylesheet:&nbsp;Nmap&nbsp;n'associe&nbsp;pas&nbsp;la&nbsp;feuille&nbsp;de&nbsp;styles&nbsp;XSL&nbsp;à&nbsp;la&nbsp;sortie&nbsp;XML<br><br>DIVERS:<br>-6:&nbsp;Active&nbsp;le&nbsp;scan&nbsp;IPv6<br>-A:&nbsp;Active&nbsp;la&nbsp;détection&nbsp;du&nbsp;système&nbsp;d'exploitation&nbsp;et&nbsp;des&nbsp;versions<br>--datadir&nbsp;&lt;dirname&gt;:&nbsp;Spécifie&nbsp;un&nbsp;dossier&nbsp;pour&nbsp;les&nbsp;fichiers&nbsp;de&nbsp;données&nbsp;de&nbsp;Nmap<br>--send-eth/--send-ip:&nbsp;Envoie&nbsp;des&nbsp;paquets&nbsp;en&nbsp;utilisant&nbsp;des&nbsp;trames&nbsp;Ethernet&nbsp;ou&nbsp;des&nbsp;paquets&nbsp;IP&nbsp;bruts<br>--privileged:&nbsp;Suppose&nbsp;que&nbsp;l'utilisateur&nbsp;est&nbsp;entièrement&nbsp;privilégié&nbsp;<br>-V:&nbsp;Affiche&nbsp;le&nbsp;numéro&nbsp;de&nbsp;version<br>--unprivileged:&nbsp;Suppose&nbsp;que&nbsp;l'utilisateur&nbsp;n'a&nbsp;pas&nbsp;les&nbsp;privilèges&nbsp;d'usage&nbsp;des&nbsp;raw&nbsp;socket<br>-h:&nbsp;Affiche&nbsp;ce&nbsp;résumé&nbsp;de&nbsp;l'aide</p>
