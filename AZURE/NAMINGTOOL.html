<!--
title: NAMING TOOL
description: 
published: true
date: 2023-09-18T12:35:38.170Z
tags: 
editor: ckeditor
dateCreated: 2023-09-18T12:35:36.928Z
-->

<p><a href="https://github.com/microsoft/CloudAdoptionFramework/tree/master/ready/AzNamingTool">Azure Naming Tool</a></p>
<h1>Git clone (quand possible) :</h1>
<pre><code class="language-plaintext">git clone https://github.com/microsoft/CloudAdoptionFramework.git</code></pre>
<p>Copy</p>
<p>Se mettre dans le dossier ci-dessous :</p>
<p>….\CloudAdoptionFramework-master\CloudAdoptionFramework-master\ready\AzNamingTool</p>
<h1>Construire l'image docker :&nbsp;</h1>
<pre><code class="language-plaintext">docker build -t azurenamingtool .</code></pre>
<p>Copy</p>
<h1>Création du conteneur :</h1>
<h2>Avec Docker directement en utilisant l'image construite au-dessus :</h2>
<pre><code class="language-plaintext">docker run -d -p 8081:80 --mount source=azurenamingtoolvol,target=/app/settings azurenamingtool:latest</code></pre>
<p>Copy</p>
<h2>Avec Docker Compose en utilisant l'image construite au-dessus :</h2>
<h3>Compose HTTP :</h3>
<pre><code class="language-plaintext">version: '3.5'

services:
 azn:
   image: azurenamingtool:latest
   restart: always
   volumes:
     - azurenamingtoolvol:/app/settings

   networks:
     - azn-net
   ports:
     - "80:80"

volumes:
 azurenamingtoolvol:

networks:
 azn-net:
   driver: bridge</code></pre>
<p>Copy</p>
<h3>Compose HTTPS avec Caddy pour gérer le TLS avec un Caddyfile :</h3>
<p>Compose:</p>
<pre><code class="language-plaintext">version: '3.5'

services:
  azn:
    image: azurenamingtool:latest
    container_name: azn
    restart: always
    volumes:
      - azurenamingtoolvol:/app/settings
    networks:
      - azn-net

  caddy:
    image: caddy:latest
    container_name: caddy
    restart: always
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./caddy/Caddyfile:/etc/caddy/Caddyfile
      - caddy_data:/data
      - caddy_config:/config
      - ./cert/vdcsant01.crt:/etc/ssl/private/vdcsant01.crt
      - ./cert/vdcsant01.key:/etc/ssl/certs/vdcsant01.key
    networks:
      - azn-net

volumes:
  azurenamingtoolvol:
  caddy_data:
  caddy_config:

networks:
  azn-net:
    driver: bridge</code></pre>
<p>Copy</p>
<p>Caddyfile :</p>
<pre><code class="language-plaintext">http://vdcsant01.cyborg.dom {
 redir https://vdcsant01.cyborg.dom
}
https://vdcsant01.cyborg.dom {
 tls /etc/ssl/private/vdcsant01.crt /etc/ssl/certs/vdcsant01.key
 reverse_proxy azn:80
}</code></pre>
