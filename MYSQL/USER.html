<!--
title: USER
description: 
published: true
date: 2024-01-16T15:07:27.294Z
tags: mysql, bdd, sql
editor: ckeditor
dateCreated: 2023-09-18T12:37:37.711Z
-->

<h1>LISTER LES INFOS USERS MYSQL:</h1>
<pre><code class="language-plaintext">SELECT user,host,plugin FROM mysql.user;</code></pre>
<h1>MODIFIER UN USER :</h1>
<pre><code class="language-plaintext">ALTER USER 'tpm_user'@'%' IDENTIFIED WITH caching_sha2_password BY 'mdp';</code></pre>
<p>&nbsp;</p>
<pre><code class="language-plaintext">ALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY 'mdp';</code></pre>
<p>&nbsp;</p>
<pre><code class="language-plaintext">ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'mdp';</code></pre>
<h1>DONNER TOUT LES DROITS SUR UNE BASE A UN USER :</h1>
<pre><code class="language-plaintext">GRANT ALL PRIVILEGES ON&nbsp; `tpm_db`.* TO 'tpm_user'@'localhost';</code></pre>
<h1>CRÉER UN USER DANS MYSQL AVEC DES DROITS EN LECTURE :</h1>
<pre><code class="language-plaintext">CREATE USER 'zabbix_monitor'@'%' IDENTIFIED BY 'password';
GRANT USAGE ON *.* TO 'zabbix_monitor'@'%';
GRANT USAGE,REPLICATION CLIENT,PROCESS,SHOW DATABASES,SHOW VIEW ON *.* TO 'zabbix_monitor'@'%';
FLUSH PRIVILEGES;
quit;</code></pre>
<h1>SUPPRESSION USER :</h1>
<pre><code class="language-plaintext">DROP USER 'nom'@'host';</code></pre>
<h1>DROIT D'UN USER DANS MySQL :</h1>
<pre><code class="language-plaintext">show grants for "nom"@"host";</code></pre>
<h1>CHANGER MDP USER :</h1>
<pre><code class="language-plaintext">ALTER USER 'zabbix_monitor'@'%' IDENTIFIED BY 'newpassword';</code></pre>
<p>Ancienne méthode :</p>
<pre><code class="language-plaintext">UPDATE user SET password=PASSWORD('nouveaumotdepasse') WHERE user="root";
FLUSH PRIVILEGES;</code></pre>
<h1>CHANGER LE HOST D'UN USER :</h1>
<pre><code class="language-plaintext">RENAME USER 'tpm_user'@'localhost' TO 'tpm_user'@'%';</code></pre>
<p>Si erreur même sur le user root : ERROR 1396 (HY000): Operation RENAME USER failed</p>
<pre><code class="language-plaintext">UPDATE mysql.user SET host = '%' WHERE host = 'localhost' AND user = 'tpm_user';
UPDATE mysql.db SET host = '%' WHERE host = 'localhost' AND user = 'tpm_user';
FLUSH PRIVILEGES;</code></pre>
