javascript
function buildMenu() {
  var menu = document.getElementById("menu");
  var dirs = [];
  function traverseDir(path) {
    var dir = new Directory(path);
    for (var file in dir.getFiles()) {
      if (file.isDirectory()) {
        dirs.push({
          name: file.getName(),
          path: file.getPath(),
          children: []
        });
        traverseDir(file.getPath());
      } else {
        menu.appendChild(new MenuItem(file.getName(), file.getPath()));
      }
    }
  }
  traverseDir("/"); // start traversing from the root directory
}