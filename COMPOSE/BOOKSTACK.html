<!--
title: BOOKSTACK
description: 
published: true
date: 2023-09-18T12:35:49.593Z
tags: 
editor: ckeditor
dateCreated: 2023-09-18T12:35:48.362Z
-->

<h1>FONCTIONNEL:</h1>
<pre><code class="language-plaintext">version: "3.5"

services:
  bookstack:
    image: linuxserver/bookstack
    container_name: bookstack
    environment:
      - APP_URL=http://debdok:6875/
      - DB_HOST=bookstack_db
      - DB_PORT=3306
      - DB_USER=bookstack
      - FILE__DB_PASS=/run/secrets/mysql_password
      - DB_DATABASE=bookstackapp
    secrets:
      - mysql_password
    volumes:
      - data:/var/www/bookstack/public/uploads
    ports:
      - 6875:80
    networks:
      - bsk_net
    restart: always
    depends_on:
      - bookstack_db
 
  bookstack_db:
    image: mysql:8.0-debian
    container_name: bookstack_db
    cap_add:
      - SYS_NICE
    #command:
    #  - mysqld
    #  - --default-authentication-plugin=mysql_native_password
    environment:
      - MYSQL_ROOT_PASSWORD_FILE=/run/secrets/mysql_root_password
      - TZ=Europe/Paris
      - MYSQL_DATABASE=bookstackapp
      - MYSQL_USER=bookstack
      - MYSQL_PASSWORD_FILE=/run/secrets/mysql_password
    volumes:
       - db:/var/lib/mysql
    ports:
      - 3306
    networks:
      - bsk_net
    restart: always
    secrets:
      - mysql_root_password
      - mysql_password

volumes:
  data:
  db:

secrets:
  mysql_password:
    file: ./env/.MYSQL_PASSWORD
  mysql_root_password:
    file: ./env/.MYSQL_ROOT_PASSWORD

networks:
  bsk_net:
    driver: bridge</code></pre>
<h1>ORIGINE :</h1>
<pre><code class="language-plaintext">version: "2"
services:
 bookstack:
   image: lscr.io/linuxserver/bookstack
   container_name: bookstack
   environment:
     - PUID=1000
     - PGID=1000
     - APP_URL=
     - DB_HOST=bookstack_db
     - DB_PORT=3306
     - DB_USER=bookstack
     - DB_PASS=&lt;yourdbpass&gt;
     - DB_DATABASE=bookstackapp
   volumes:
     - /path/to/data:/config
   ports:
     - 6875:80
   restart: unless-stopped
   depends_on:
     - bookstack_db
 bookstack_db:
   image: lscr.io/linuxserver/mariadb
   container_name: bookstack_db
   environment:
     - PUID=1000
     - PGID=1000
     - MYSQL_ROOT_PASSWORD=&lt;yourdbpass&gt;
     - TZ=Europe/London
     - MYSQL_DATABASE=bookstackapp
     - MYSQL_USER=bookstack
     - MYSQL_PASSWORD=&lt;yourdbpass&gt;
   volumes:
     - /path/to/data:/config
   restart: unless-stopped</code></pre>
