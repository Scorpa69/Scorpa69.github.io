<!--
title: BARE METAL
description: 
published: true
date: 2023-09-18T12:40:27.092Z
tags: 
editor: ckeditor
dateCreated: 2023-09-18T12:40:26.015Z
-->

<h1>Install sur un virtual disk : A tester !!! car IA</h1>
<p>Il est possible de combiner les deux SSD de 16 Go et les cinq HDD de 1 To en un seul disque virtuel système en utilisant LVM et RAID. Voici les étapes à suivre :</p>
<p>Créez un RAID1 avec les deux SSD de 16 Go en utilisant la commande suivante :</p>
<pre><code class="language-plaintext">mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sda /dev/sdb
</code></pre>
<p>Remplacez <code>/dev/sda</code> et <code>/dev/sdb</code> par les noms des deux SSD que vous souhaitez utiliser.</p>
<p>Créez un RAID5 avec les cinq HDD de 1 To en utilisant la commande suivante :</p>
<pre><code class="language-plaintext">mdadm --create /dev/md1 --level=5 --raid-devices=5 /dev/sdc /dev/sdd /dev/sde /dev/sdf /dev/sdg
</code></pre>
<p>Remplacez <code>/dev/sdc</code>, <code>/dev/sdd</code>, <code>/dev/sde</code>, <code>/dev/sdf</code> et <code>/dev/sdg</code> par les noms des cinq HDD que vous souhaitez utiliser.</p>
<p>Créez un groupe de volumes LVM avec les deux dispositifs RAID en utilisant la commande suivante :</p>
<pre><code class="language-plaintext">vgcreate vg01 /dev/md0 /dev/md1
</code></pre>
<p>Créez un volume logique LVM sur le groupe de volumes LVM avec la taille souhaitée pour le système de fichiers racine (/) en utilisant la commande suivante :</p>
<pre><code class="language-plaintext">lvcreate -L 50G -n lv_root vg01
</code></pre>
<p>Cette commande crée un volume logique nommé <code>lv_root</code> avec une taille de 50 Go.</p>
<p>Formatez le volume logique LVM avec le système de fichiers de votre choix. Par exemple, pour formater le volume logique LVM avec le système de fichiers ext4, utilisez la commande suivante :</p>
<pre><code class="language-plaintext">mkfs.ext4 /dev/vg01/lv_root
</code></pre>
<p>Montez le volume logique LVM dans le système de fichiers en utilisant la commande suivante :</p>
<pre><code class="language-plaintext">mount /dev/vg01/lv_root /mnt
</code></pre>
<p>Cette commande monte le volume logique LVM dans le répertoire <code>/mnt</code>.</p>
<p>Installez Debian sur ce système de fichiers monté en suivant les étapes d'installation habituelles.</p>
<p>Une fois l'installation terminée, vous aurez un seul disque virtuel système combinant les deux SSD de 16 Go et les cinq HDD de 1 To en utilisant LVM et RAID.<br>Notez que cette configuration utilise le RAID1 pour le stockage des données système critique, tandis que le RAID5 est utilisé pour le stockage de données moins critiques. De cette façon, vous pouvez obtenir une performance élevée pour les données système critiques et un stockage de données moins critique avec une capacité élevée.</p>
